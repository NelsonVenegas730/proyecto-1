<body>
  <main>
    <%- include('../partials/filter-controls', { filterType: 'content' }) %>
    <section class="aprobaciones-management">
      <h2 class="emprendimientos-heading">Emprendimientos pendientes de aprobación</h2>
      <div class="emprendimientos-pendientes">
        <!-- tarjetas emprendimientos -->
        <a href="/emprendimiento-slug" class="emprendimiento-card">
          <img src="https://s1.significados.com/foto/shutterstock-513513718_bg.jpg?class=article" alt="Imagen emprendimiento" />
          <div class="info">
            <h4>El Buen Pan</h4>
            <p>Dueña: María González</p>
            <div class="emprendimiento-actions">
              <button class="btn-rechazar">Rechazar</button>
              <button class="btn-aprobar">Aprobar</button>
            </div>
          </div>
        </a>
        <a href="/emprendimiento-slug" class="emprendimiento-card">
          <img src="https://s1.significados.com/foto/shutterstock-513513718_bg.jpg?class=article" alt="Imagen emprendimiento" />
          <div class="info">
            <h4>Tienda Verde</h4>
            <p>Dueño: Carlos B.</p>
            <div class="emprendimiento-actions">
              <button class="btn-rechazar">Rechazar</button>
              <button class="btn-aprobar">Aprobar</button>
            </div>
          </div>
        </a>
      </div>

      <h2 class="noticias-heading">Anuncios, Noticias y Eventos pendientes de aprobación</h2>
      <div class="noticias-pendientes">
        <!-- tarjetas noticias -->
        <div class="noticia-card">
          <img src="https://s1.significados.com/foto/shutterstock-513513718_bg.jpg?class=article" alt="Imagen noticia" />
          <div class="info">
            <div class="noticia-header">
              <span class="badge badge-evento">Evento</span>
              <h4>Bingo del Domingo</h4>
            </div>
            <p>Publicador: María González</p>
            <p class="descripcion">Actividad comunal en la plaza central</p>
            <div class="noticia-actions">
              <button class="btn-rechazar">Rechazar</button>
              <button class="btn-aprobar">Aprobar</button>
            </div>
          </div>
        </div>

        <div class="noticia-card">
          <img src="https://s1.significados.com/foto/shutterstock-513513718_bg.jpg?class=article" alt="Imagen noticia" />
          <div class="info">
            <div class="noticia-header">
              <span class="badge badge-noticia">Noticia</span>
              <h4>Derrumbe en calle 4</h4>
            </div>
            <p>Publicador: Carlos Ballistero</p>
            <p class="descripcion">Reportado por vecinos en la mañana</p>
            <div class="noticia-actions">
              <button class="btn-rechazar">Rechazar</button>
              <button class="btn-aprobar">Aprobar</button>
            </div>
          </div>
        </div>
      </div>

      <!-- NUEVA SECCIÓN HORARIOS DE BUSES -->
      <h2 class="bus-schedule-heading" style="margin-top: 3rem; text-align:center;">Horarios de Buses</h2>

      <div class="bus-schedules">
        <% if (busSchedules.length === 0) { %>
        <p class="not-found">No hay horarios agregados aun</p>
      <% } else { %>
        <div class="bus-grid">
            <div class="grid-header">Destino</div>
            <div class="grid-header">Horario</div>
            <div class="grid-header">Dirección</div>
            <div class="grid-header">Precio</div>
            <div class="grid-header">Espera</div>

            <% busSchedules.forEach(schedule => { %>
                <div class="grid-item" data-label="Destino"><%= schedule.destination %></div>
                <div class="grid-item" data-label="Horario"><%= schedule.arrival_time %></div>
                <div class="grid-item" data-label="Dirección"><%= schedule.address %></div>
                <div class="grid-item" data-label="Precio">₡<%= schedule.price %></div>
                <div class="grid-item" data-label="Espera"><%= schedule.wait_time_minutes %> min</div>
            <% }) %>

            <!-- Fila para agregar nuevo horario -->
            <div class="grid-item add-new" data-label="Destino" colspan="5" style="cursor:pointer; text-align:center; color: var(--color-primary); font-weight: bold;" onclick="location.href='/admin/bus-schedules/new'">
                + Agregar nuevo horario
            </div>
        </div>
      <% } %>
        <form class="bus-schedule-form">
            <input class="bus-schedule-input" type="text" name="destination" placeholder="Destino" required />
            <input class="bus-schedule-input" type="time" name="arrival_time" placeholder="Horario" required />
            <input class="bus-schedule-input" type="text" name="address" placeholder="Dirección" required />
            <input class="bus-schedule-input" type="number" name="price" placeholder="Precio (₡)" min="0" step="0.01" required />
            <input class="bus-schedule-input" type="number" name="wait_time_minutes" placeholder="Espera (min)" min="0" required />
            <button type="submit" class="bus-schedule-submit">Agregar</button>
        </form>
      </div>

    </section>
  </main>
  <script src="/js/filterContentAlt.js"></script>
  <script src="/js/no-cache.js"></script>
</body>
